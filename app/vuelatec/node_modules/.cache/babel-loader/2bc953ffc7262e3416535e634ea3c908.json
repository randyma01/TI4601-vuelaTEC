{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gusfc\\\\Documents\\\\GitHub\\\\TI4601-vuelaTEC\\\\app\\\\vuelatec\\\\src\\\\components\\\\Administrator\\\\Employee\\\\Update\\\\index.js\";\nimport React from 'react';\nimport { Button, Col, Container, Form, Row } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport SimpleCrypto from 'simple-crypto-js';\n\nclass Employee extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this._onClickSearchEmployee = async () => {\n      if (this.state.id === '') {\n        window.confirm(\"Debe ingresar identificador de empleado para modificar.\");\n      } else {\n        await fetch(\"http://localhost:3000/admin/findEmployeesId/\".concat(this.state.id), {\n          method: \"GET\"\n        }).then(response => response.json()).then(responseJson => {\n          if (responseJson !== '') {\n            this.setState({\n              employee: responseJson,\n              id: ''\n            });\n          }\n        }).catch(error => {\n          console.error(error);\n        });\n      }\n    };\n\n    this._submitData = async () => {\n      if (this.state.firstName === '' || this.state.lastName === '') {\n        window.confirm(\"Debe ingresar un nombre o apellido validos.\");\n      } else if (this.state.password === '') {\n        window.confirm(\"Debe ingresar una contraseÃ±a valida.\");\n      } else if (this.state.role === '' || this.state.area === '') {\n        window.confirm(\"Debe ingresar un rol o area validos.\");\n      } else {\n        let simpleCrypto = new SimpleCrypto('vtecAPP');\n        let passwordEncrypt = simpleCrypto.encrypt(this.state.password);\n        let data = {\n          firstName: this.state.firstName,\n          lastName: this.state.lastName,\n          password: passwordEncrypt,\n          role: this.state.role,\n          area: this.state.area\n        };\n        await fetch(\"http://localhost:3000/admin/updateEmployee/\".concat(this.state.employee._id), {\n          method: \"PUT\",\n          body: JSON.stringify(data),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }).then(response => response.json()).then(responseJson => {\n          if (responseJson.firstName === this.state.firstName) {\n            this.setState({\n              firstName: '',\n              employee: [],\n              lastName: '',\n              password: '',\n              role: '',\n              area: ''\n            });\n            window.confirm(\"Se actualizado correctamente el empleado.\");\n          }\n        }).catch(error => {\n          console.error(error);\n        });\n      }\n    };\n\n    this.state = {\n      area: '',\n      employee: [],\n      firstName: '',\n      id: '',\n      lastName: '',\n      password: '',\n      role: ''\n    };\n  }\n\n  _handleChangeArea(event) {\n    this.setState({\n      area: event.target.value\n    });\n  }\n\n  _handleChangeFirstName(event) {\n    this.setState({\n      firstName: event.target.value\n    });\n  }\n\n  _handleChangeId(event) {\n    this.setState({\n      id: event.target.value\n    });\n  }\n\n  _handleChangeLastName(event) {\n    this.setState({\n      lastName: event.target.value\n    });\n  }\n\n  _handleChangePassword(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  _handleChangeSelectRole(event) {\n    this.setState({\n      role: event.target.value\n    });\n  }\n\n  render() {\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        margin: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Actualizar Empleado\")), React.createElement(Row, {\n      className: \"justify-content-md-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: true,\n      lg: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(Col, {\n      md: \"auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      style: {\n        marginTop: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridIdSearch\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Identificaci\\xF3n\"), React.createElement(Form.Control, {\n      type: \"string\",\n      placeholder: \"Identificaci\\xF3n de empleado modificar\",\n      value: this.state.id,\n      onChange: this._handleChangeId.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this._onClickSearchEmployee,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Buscar\")))), React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      style: {\n        margin: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridNameEdit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Nombre\"), React.createElement(Form.Control, {\n      type: \"string\",\n      placeholder: this.state.employee.firstName,\n      value: this.state.firstName,\n      onChange: this._handleChangeFirstName.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridLastNameEdit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Apellidos\"), React.createElement(Form.Control, {\n      type: \"string\",\n      placeholder: this.state.employee.lastName,\n      value: this.state.lastName,\n      onChange: this._handleChangeLastName.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }))), React.createElement(Form.Row, {\n      style: {\n        margin: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridIdEdit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"C\\xE9dula\"), React.createElement(Form.Control, {\n      type: \"number\",\n      placeholder: this.state.employee._id,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }))), React.createElement(Form.Row, {\n      style: {\n        margin: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridUserNameEdit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Nombre de usuario\"), React.createElement(Form.Control, {\n      type: \"string\",\n      placeholder: this.state.employee.username,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridPasswordEdit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Contrase\\xF1a\"), React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"Contrase\\xF1a\",\n      value: this.state.password,\n      onChange: this._handleChangePassword.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }))), React.createElement(Form.Row, {\n      style: {\n        margin: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"ControlSelectRoleEdit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Tipo de funcionario\"), React.createElement(Form.Control, {\n      as: \"select\",\n      defaultValue: this.state.employee.role,\n      onChange: this._handleChangeSelectRole.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: 'administrator',\n      key: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Administrativo\"), React.createElement(\"option\", {\n      value: 'technician',\n      key: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"T\\xE9cnico\"), React.createElement(\"option\", {\n      value: 'operator',\n      key: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"Operario\")))), React.createElement(Form.Row, {\n      style: {\n        margin: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridInitialDateEdit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Fecha de ingreso\"), React.createElement(Form.Control, {\n      type: \"string\",\n      placeholder: this.state.employee.initalDate,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }))), React.createElement(Form.Row, {\n      style: {\n        margin: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridAreaEdit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"\\xC1rea de trabajo\"), React.createElement(Form.Control, {\n      type: \"string\",\n      placeholder: this.state.employee.area,\n      value: this.state.area,\n      onChange: this._handleChangeArea.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }))))), React.createElement(Col, {\n      xs: true,\n      lg: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    })), React.createElement(Row, {\n      className: \"justify-content-md-center\",\n      style: {\n        margin: '3%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      size: \"lg\",\n      onClick: this._submitData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"Confirmar\")));\n  }\n\n}\n\nexport default Employee;","map":{"version":3,"sources":["C:/Users/gusfc/Documents/GitHub/TI4601-vuelaTEC/app/vuelatec/src/components/Administrator/Employee/Update/index.js"],"names":["React","Button","Col","Container","Form","Row","SimpleCrypto","Employee","Component","constructor","props","_onClickSearchEmployee","state","id","window","confirm","fetch","method","then","response","json","responseJson","setState","employee","catch","error","console","_submitData","firstName","lastName","password","role","area","simpleCrypto","passwordEncrypt","encrypt","data","_id","body","JSON","stringify","headers","_handleChangeArea","event","target","value","_handleChangeFirstName","_handleChangeId","_handleChangeLastName","_handleChangePassword","_handleChangeSelectRole","render","margin","marginTop","bind","username","initalDate"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Button, Col, Container, Form, Row } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport SimpleCrypto from 'simple-crypto-js';\r\n\r\nclass Employee extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      area: '',\r\n      employee: [],\r\n      firstName: '',\r\n      id: '',\r\n      lastName: '',\r\n      password: '',\r\n      role: '',\r\n    };\r\n  }\r\n\r\n  _handleChangeArea(event) {\r\n    this.setState({ area: event.target.value })\r\n  }\r\n\r\n  _handleChangeFirstName(event) {\r\n    this.setState({ firstName: event.target.value })\r\n  }\r\n\r\n  _handleChangeId(event) {\r\n    this.setState({ id: event.target.value })\r\n  }\r\n\r\n  _handleChangeLastName(event) {\r\n    this.setState({ lastName: event.target.value })\r\n  }\r\n\r\n  _handleChangePassword(event) {\r\n    this.setState({ password: event.target.value })\r\n  }\r\n\r\n  _handleChangeSelectRole(event) {\r\n    this.setState({\r\n      role: event.target.value\r\n    })\r\n  }\r\n\r\n\r\n  _onClickSearchEmployee = async () => {\r\n    if (this.state.id === '') {\r\n      window.confirm(\"Debe ingresar identificador de empleado para modificar.\")\r\n    } else {\r\n      await fetch(`http://localhost:3000/admin/findEmployeesId/${this.state.id}`,\r\n        {\r\n          method: \"GET\"\r\n        })\r\n        .then(response => response.json())\r\n        .then(responseJson => {\r\n          if (responseJson !== '') {\r\n            this.setState({\r\n              employee: responseJson,\r\n              id: ''\r\n            });\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  _submitData = async () => {\r\n    if (this.state.firstName === '' || this.state.lastName === '') {\r\n      window.confirm(\"Debe ingresar un nombre o apellido validos.\")\r\n    }\r\n    else if (this.state.password === '') {\r\n      window.confirm(\"Debe ingresar una contraseÃ±a valida.\")\r\n    }\r\n    else if (this.state.role === '' || this.state.area === '') {\r\n      window.confirm(\"Debe ingresar un rol o area validos.\")\r\n    }\r\n    else {\r\n      let simpleCrypto = new SimpleCrypto('vtecAPP');\r\n      let passwordEncrypt = simpleCrypto.encrypt(this.state.password);\r\n      let data = {\r\n        firstName: this.state.firstName,\r\n        lastName: this.state.lastName,\r\n        password: passwordEncrypt,\r\n        role: this.state.role,\r\n        area: this.state.area\r\n      }\r\n      await fetch(`http://localhost:3000/admin/updateEmployee/${this.state.employee._id}`,\r\n        {\r\n          method: \"PUT\",\r\n          body: JSON.stringify(data),\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        })\r\n        .then(response => response.json())\r\n        .then(responseJson => {\r\n          if (responseJson.firstName === this.state.firstName) {\r\n            this.setState({ firstName: '', employee: [], lastName: '', password: '', role: '', area: '' })\r\n            window.confirm(\"Se actualizado correctamente el empleado.\")\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <div style={{ margin: '2%' }}>\r\n          <h3 align='center'>Actualizar Empleado</h3>\r\n        </div>\r\n        <Row className='justify-content-md-center'>\r\n          <Col xs lg='2'></Col>\r\n          <Col md='auto'>\r\n            <Form>\r\n              <Form.Row style={{ marginTop: '2%' }}>\r\n                <Form.Group as={Col} controlId='formGridIdSearch'>\r\n                  <Form.Label>IdentificaciÃ³n</Form.Label>\r\n                  <Form.Control type='string' placeholder='IdentificaciÃ³n de empleado modificar' value={this.state.id} onChange={this._handleChangeId.bind(this)} />\r\n                </Form.Group>\r\n                <Form.Group as={Col} controlId='formGridButton'>\r\n                  <Button onClick={this._onClickSearchEmployee}>Buscar</Button>\r\n                </Form.Group>\r\n              </Form.Row>\r\n            </Form>\r\n            <Form>\r\n              <Form.Row style={{ margin: '2%' }}>\r\n                <Form.Group as={Col} controlId='formGridNameEdit'>\r\n                  <Form.Label>Nombre</Form.Label>\r\n                  <Form.Control type='string' placeholder={this.state.employee.firstName} value={this.state.firstName} onChange={this._handleChangeFirstName.bind(this)} />\r\n                </Form.Group>\r\n                <Form.Group as={Col} controlId='formGridLastNameEdit'>\r\n                  <Form.Label>Apellidos</Form.Label>\r\n                  <Form.Control type='string' placeholder={this.state.employee.lastName} value={this.state.lastName} onChange={this._handleChangeLastName.bind(this)} />\r\n                </Form.Group>\r\n              </Form.Row>\r\n\r\n              <Form.Row style={{ margin: '2%' }}>\r\n                <Form.Group as={Col} controlId='formGridIdEdit'>\r\n                  <Form.Label>CÃ©dula</Form.Label>\r\n                  <Form.Control type='number' placeholder={this.state.employee._id} disabled />\r\n                </Form.Group>\r\n              </Form.Row>\r\n\r\n              <Form.Row style={{ margin: '2%' }}>\r\n                <Form.Group as={Col} controlId='formGridUserNameEdit'>\r\n                  <Form.Label>Nombre de usuario</Form.Label>\r\n                  <Form.Control type='string' placeholder={this.state.employee.username} disabled />\r\n                </Form.Group>\r\n                <Form.Group as={Col} controlId='formGridPasswordEdit'>\r\n                  <Form.Label>ContraseÃ±a</Form.Label>\r\n                  <Form.Control type='password' placeholder='ContraseÃ±a' value={this.state.password} onChange={this._handleChangePassword.bind(this)} />\r\n                </Form.Group>\r\n              </Form.Row>\r\n\r\n              <Form.Row style={{ margin: '2%' }}>\r\n                <Form.Group as={Col} controlId=\"ControlSelectRoleEdit\">\r\n                  <Form.Label>Tipo de funcionario</Form.Label>\r\n                  <Form.Control as=\"select\" defaultValue={this.state.employee.role} onChange={this._handleChangeSelectRole.bind(this)}>\r\n                    <option value={'administrator'} key={1}>Administrativo</option>\r\n                    <option value={'technician'} key={2}>TÃ©cnico</option>\r\n                    <option value={'operator'} key={3}>Operario</option>\r\n                  </Form.Control>\r\n                </Form.Group>\r\n              </Form.Row>\r\n\r\n              <Form.Row style={{ margin: '2%' }}>\r\n                <Form.Group as={Col} controlId='formGridInitialDateEdit'>\r\n                  <Form.Label>Fecha de ingreso</Form.Label>\r\n                  <Form.Control type=\"string\" placeholder={this.state.employee.initalDate} disabled />\r\n                </Form.Group>\r\n              </Form.Row>\r\n\r\n              <Form.Row style={{ margin: '2%' }}>\r\n                <Form.Group as={Col} controlId='formGridAreaEdit'>\r\n                  <Form.Label>Ãrea de trabajo</Form.Label>\r\n                  <Form.Control type='string' placeholder={this.state.employee.area} value={this.state.area} onChange={this._handleChangeArea.bind(this)} />\r\n                </Form.Group>\r\n              </Form.Row>\r\n            </Form>\r\n          </Col>\r\n          <Col xs lg='2'></Col>\r\n        </Row>\r\n\r\n        <Row className='justify-content-md-center' style={{ margin: '3%' }}>\r\n          <Button\r\n            variant='primary'\r\n            size='lg'\r\n            onClick={this._submitData}>\r\n            Confirmar\r\n          </Button>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Employee;\r\n"]},"metadata":{},"sourceType":"module"}