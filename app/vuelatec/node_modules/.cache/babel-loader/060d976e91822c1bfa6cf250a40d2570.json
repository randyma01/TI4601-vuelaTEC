{"ast":null,"code":"import _taggedTemplateLiteral from \"C:\\\\Users\\\\gusfc\\\\Documents\\\\GitHub\\\\TI4601-vuelaTEC\\\\app\\\\vuelatec\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\gusfc\\\\Documents\\\\GitHub\\\\TI4601-vuelaTEC\\\\app\\\\vuelatec\\\\src\\\\components\\\\Passenger\\\\Ticket\\\\index.js\";\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport { Button, Container, Col, Form, Modal, Spinner, Table } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport ConfirmationNumberIcon from '@material-ui/icons/ConfirmationNumber';\nimport IconButton from '@material-ui/core/IconButton';\n\nclass Ticket extends React.Component {\n  constructor(props) {\n    super(props);\n    this._isMounted = false;\n\n    this.componentDidMount = async () => {\n      this._isMounted = true;\n      const countries = await fetch('https://raw.githubusercontent.com/shivammathur/countrycity/master/data/geo.json', {\n        method: 'GET'\n      }).then(response => response.json()).then(responseJson => {\n        if (responseJson !== '' && this._isMounted) {\n          return Object.keys(responseJson).sort();\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n      fetch('https://raw.githubusercontent.com/dr5hn/countries-states-cities-database/master/countries.json', {\n        method: \"GET\"\n      }).then(response => response.json()).then(responseJson => {\n        if (responseJson !== '' && this._isMounted) {\n          const tempCountries = [];\n          responseJson.forEach(element => {\n            if (countries.includes(element.name)) {\n              tempCountries.push(element);\n            }\n          });\n          this.setState({\n            countries: tempCountries\n          });\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    };\n\n    this._onClickBuyTicket = async flight => {\n      let verify = window.confirm(\"Desea comprar boletos para el vuelo: \".concat(flight));\n\n      if (verify) {\n        //random id ticket\n        const chars = [...\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"];\n        let randomStringTicket_id = [...Array(3)].map(i => chars[Math.random() * chars.length | 0]).join(_templateObject());\n        let randomNumberTicket_id = Math.floor(Math.random() * 999 + 1);\n        let dataTicket = {\n          _id: randomStringTicket_id + randomNumberTicket_id,\n          amount: '',\n          bagagge: '',\n          boarded: false,\n          carryOn: '',\n          checked: false,\n          dateBought: new Date().toISOString().slice(0, 10),\n          flight_id: flight,\n          passenger_id: this.state.dataUser._id,\n          seats: []\n        };\n        this.setState({\n          infoBuyTicker: dataTicket,\n          isOpenBuyTicker: true\n        });\n      }\n    };\n\n    this._onClickModalAcceptBuyTicket = async () => {\n      await fetch('http://localhost:3000/passenger/buyTicket/', {\n        method: \"POST\",\n        body: JSON.stringify(this.state.infoBuyTicker),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => response.json()).then(responseJson => {\n        if (responseJson._id === this.state.infoBuyTicker._id) {\n          window.confirm(\"Se realizo correctamente la compra.\");\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n      let sendDataTicket = {\n        flightId: this.state.infoBuyTicker.flight_id\n      };\n      let updateFlight = await fetch('http://localhost:3000/passenger/soldTicket/', {\n        method: \"PUT\",\n        body: JSON.stringify(sendDataTicket),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (updateFlight.ok) {\n        this.setState({\n          infoBuyTicker: [],\n          result: [],\n          isOpenBuyTicker: false\n        });\n      }\n    };\n\n    this._onClickModalCancelBuyTicket = () => {\n      this.setState({\n        isOpenBuyTicker: false\n      });\n    };\n\n    this._onClickSearchFlights = async () => {\n      if (this.state.origin === '' || this.state.destination === '') {\n        window.confirm(\"Debe ingresar origen y destino para la busqueda.\");\n      } else if (this.state.endDate === '' || this.state.startDate === '') {\n        window.confirm(\"Debe ingresar un rango de fehcas.\");\n      } else {\n        let data = {\n          origin1: this.state.origin,\n          destination1: this.state.destination,\n          date1: this.state.startDate,\n          date2: this.state.endDate\n        };\n        await fetch('http://localhost:3000/flights/', {\n          method: \"POST\",\n          body: JSON.stringify(data),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }).then(response => response.json()).then(responseJson => {\n          this.setState({\n            result: responseJson,\n            origin: '',\n            destination: '',\n            endDate: '',\n            startDate: '',\n            citiesDestination: [],\n            citiesOrigin: []\n          });\n        }).catch(error => {\n          console.error(error);\n        });\n      }\n    };\n\n    this.state = {\n      citiesDestination: [],\n      citiesOrigin: [],\n      countries: [],\n      countryDestination: '',\n      countryOrigin: '',\n      dataUser: props.dataUser,\n      destination: '',\n      endDate: '',\n      infoBuyTicker: [],\n      origin: '',\n      passengerId: '',\n      result: [],\n      startDate: ''\n    };\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  _handleChangeAmountBuyTicket(event) {\n    let infoBuyTickerTemp = this.state.infoBuyTicker;\n    infoBuyTickerTemp.amount = event.target.value;\n    this.setState({\n      infoBuyTicker: infoBuyTickerTemp\n    });\n  }\n\n  _handleChangeBagaggeBuyTicket(event) {\n    let infoBuyTickerTemp = this.state.infoBuyTicker;\n    infoBuyTickerTemp.bagagge = event.target.value;\n    this.setState({\n      infoBuyTicker: infoBuyTickerTemp\n    });\n  }\n\n  _handleChangeCarryOnBuyTicket(event) {\n    let infoBuyTickerTemp = this.state.infoBuyTicker;\n    infoBuyTickerTemp.carryOn = event.target.value;\n    this.setState({\n      infoBuyTicker: infoBuyTickerTemp\n    });\n  }\n\n  _handleChangeEndDate(event) {\n    this.setState({\n      endDate: event.target.value\n    });\n  }\n\n  _handleChangeSelectCityDestination(event) {\n    this.setState({\n      destination: event.target.value\n    });\n  }\n\n  _handleChangeSelectCityOrigin(event) {\n    this.setState({\n      origin: event.target.value\n    });\n  }\n\n  _handleChangeSelectCountryDestination(event) {\n    this.setState({\n      countryDestination: event.target.value\n    });\n    this.setState({\n      countryDestination: event.target.value,\n      isLoadCountriesDestination: true\n    });\n    fetch('https://raw.githubusercontent.com/shivammathur/countrycity/master/data/geo.json', {\n      method: 'GET'\n    }).then(response => response.json()).then(responseJson => {\n      if (responseJson !== '') {\n        this.setState({\n          citiesDestination: responseJson[this.state.countryDestination].sort(),\n          isLoadCountriesDestination: false\n        });\n      }\n    }).catch(error => {\n      console.error(error);\n    });\n  }\n\n  _handleChangeSelectCountryOrigin(event) {\n    this.setState({\n      countryOrigin: event.target.value,\n      isLoadCountriesOrigin: true\n    });\n    fetch('https://raw.githubusercontent.com/shivammathur/countrycity/master/data/geo.json', {\n      method: 'GET'\n    }).then(response => response.json()).then(responseJson => {\n      if (responseJson !== '') {\n        this.setState({\n          citiesOrigin: responseJson[this.state.countryOrigin].sort(),\n          isLoadCountriesOrigin: false\n        });\n      }\n    }).catch(error => {\n      console.error(error);\n    });\n  }\n\n  _handleChangeStartDate(event) {\n    this.setState({\n      startDate: event.target.value\n    });\n  }\n\n  render() {\n    const spinnerCitiesOrigin = this.state.isLoadCountriesOrigin ? React.createElement(Spinner, {\n      animation: \"grow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }) : null;\n    const spinnerCitiesDestination = this.state.isLoadCountriesDestination ? React.createElement(Spinner, {\n      animation: \"grow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }) : null;\n    const modalBuyTicket = this.state.isOpenBuyTicker ? React.createElement(Modal, {\n      show: this.state.isOpenBuyTicker,\n      onHide: this._onClickModalCancelBuyTicket,\n      dialogClassName: \"modal-90w\",\n      \"aria-labelledby\": \"example-custom-modal-styling-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      id: \"example-custom-modal-styling-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, \"Comprar Boleto\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        margin: '2%',\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, \"Boleto Generado:  \", this.state.infoBuyTicker._id), React.createElement(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, \"Vuelo \", this.state.infoBuyTicker.flight_id)), React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      style: {\n        marginTop: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"ControlInputAmountTicketBuy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, \"Cantidad de boletos\"), React.createElement(Form.Control, {\n      type: \"number\",\n      placeholder: \"boletos\",\n      onChange: this._handleChangeAmountBuyTicket.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }))), React.createElement(Form.Row, {\n      style: {\n        marginTop: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"ControlInputEndDateBuy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, \"Cantidad de Maletas\"), React.createElement(Form.Control, {\n      type: \"number\",\n      placeholder: \"maletas en bodega\",\n      onChange: this._handleChangeBagaggeBuyTicket.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }))), React.createElement(Form.Row, {\n      style: {\n        marginTop: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"ControlInputEndDateBuy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, \"Cantidad de Maletas de Mano\"), React.createElement(Form.Control, {\n      type: \"number\",\n      placeholder: \"maletas de mano\",\n      onChange: this._handleChangeCarryOnBuyTicket.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }))))), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this._onClickModalCancelBuyTicket,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, \" Cancelar\"), React.createElement(Button, {\n      variant: \"primary\",\n      onClick: this._onClickModalAcceptBuyTicket,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, \"Confirmar Compra\"))) : null;\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        margin: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, \"Comprar Boletos\")), React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      style: {\n        marginTop: '4%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"ControlSelectDestinationCountry\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, \"Pa\\xEDs de Origen\"), React.createElement(Form.Control, {\n      as: \"select\",\n      defaultValue: 'DEFAULT',\n      onChange: this._handleChangeSelectCountryOrigin.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: 'DEFAULT',\n      disabled: true,\n      hidden: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, \"Seleccionar pa\\xEDs origen\"), this.state.countries.map((item, index) => React.createElement(\"option\", {\n      value: item.name,\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, item.name)))), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"ControlSelectOriginCity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, \"Cuidad de Origen \", spinnerCitiesOrigin), React.createElement(Form.Control, {\n      as: \"select\",\n      defaultValue: 'DEFAULT',\n      onChange: this._handleChangeSelectCityOrigin.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: 'DEFAULT',\n      disabled: true,\n      hidden: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, \"Seleccionar cuidad origen\"), this.state.citiesOrigin.map((item, index) => React.createElement(\"option\", {\n      value: item,\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, item)))), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"ControlSelectDestinationCountry\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, \"Pa\\xEDs de Destino\"), React.createElement(Form.Control, {\n      as: \"select\",\n      defaultValue: 'DEFAULT',\n      onChange: this._handleChangeSelectCountryDestination.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: 'DEFAULT',\n      disabled: true,\n      hidden: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, \"Seleccionar pa\\xEDs destino\"), this.state.countries.map((item, index) => React.createElement(\"option\", {\n      value: item.name,\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, item.name)))), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"ControlSelectDestinationCity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, \"Cuidad de Destino \", spinnerCitiesDestination), React.createElement(Form.Control, {\n      as: \"select\",\n      defaultValue: 'DEFAULT',\n      onChange: this._handleChangeSelectCityDestination.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: 'DEFAULT',\n      disabled: true,\n      hidden: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, \"Seleccionar cuidad destino\"), this.state.citiesDestination.map((item, index) => React.createElement(\"option\", {\n      value: item,\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }, item))))), React.createElement(Form.Row, {\n      style: {\n        marginTop: '4%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"ControlInputStartDateBuy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, \"Desde\"), React.createElement(Form.Control, {\n      type: \"date\",\n      placeholder: \"dd/mm/yyyy\",\n      onChange: this._handleChangeStartDate.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"ControlInputEndDateBuy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }, \"Hasta\"), React.createElement(Form.Control, {\n      type: \"date\",\n      placeholder: \"dd/mm/yyyy\",\n      onChange: this._handleChangeEndDate.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      size: \"lg\",\n      onClick: this._onClickSearchFlights,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, \"Buscar\")))), React.createElement(\"div\", {\n      style: {\n        marginTop: '5%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, React.createElement(Table, {\n      responsive: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366\n      },\n      __self: this\n    }, \"Identificador\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }, \"Nombre\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368\n      },\n      __self: this\n    }, \"Origen\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369\n      },\n      __self: this\n    }, \"Destino\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370\n      },\n      __self: this\n    }, \"Itinerario\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371\n      },\n      __self: this\n    }, \"Precio\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372\n      },\n      __self: this\n    }, \"Estado\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373\n      },\n      __self: this\n    }, \"Capacidad permitida\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }, \"C\\xF3digo de Aerolinea\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375\n      },\n      __self: this\n    }, \"Restricciones\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376\n      },\n      __self: this\n    }, \"Servicios\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    }, \"Comprar Boleto\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380\n      },\n      __self: this\n    }, this.state.result.map((item, index) => React.createElement(\"tr\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383\n      },\n      __self: this\n    }, item._id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384\n      },\n      __self: this\n    }, item.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385\n      },\n      __self: this\n    }, item.origin), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386\n      },\n      __self: this\n    }, item.destination), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387\n      },\n      __self: this\n    }, \"Salida: \", item.takeOff, \" [\", item.departure, \"] - Llegada: \", item.landing, \" [\", item.arrives, \"]\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388\n      },\n      __self: this\n    }, \"$ \", item.price), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389\n      },\n      __self: this\n    }, item.state), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390\n      },\n      __self: this\n    }, item.capacityPlane), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391\n      },\n      __self: this\n    }, item.airline_id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    }, JSON.stringify(item.restrictions)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    }, JSON.stringify(item.services)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      \"aria-label\": \"apply\",\n      style: {\n        color: 'green'\n      },\n      onClick: this._onClickBuyTicket.bind(this, item._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395\n      },\n      __self: this\n    }, React.createElement(ConfirmationNumberIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }))))))), modalBuyTicket));\n  }\n\n}\n\nexport default Ticket;","map":{"version":3,"sources":["C:/Users/gusfc/Documents/GitHub/TI4601-vuelaTEC/app/vuelatec/src/components/Passenger/Ticket/index.js"],"names":["React","Button","Container","Col","Form","Modal","Spinner","Table","ConfirmationNumberIcon","IconButton","Ticket","Component","constructor","props","_isMounted","componentDidMount","countries","fetch","method","then","response","json","responseJson","Object","keys","sort","catch","error","console","tempCountries","forEach","element","includes","name","push","setState","_onClickBuyTicket","flight","verify","window","confirm","chars","randomStringTicket_id","Array","map","i","Math","random","length","join","randomNumberTicket_id","floor","dataTicket","_id","amount","bagagge","boarded","carryOn","checked","dateBought","Date","toISOString","slice","flight_id","passenger_id","state","dataUser","seats","infoBuyTicker","isOpenBuyTicker","_onClickModalAcceptBuyTicket","body","JSON","stringify","headers","sendDataTicket","flightId","updateFlight","ok","result","_onClickModalCancelBuyTicket","_onClickSearchFlights","origin","destination","endDate","startDate","data","origin1","destination1","date1","date2","citiesDestination","citiesOrigin","countryDestination","countryOrigin","passengerId","componentWillUnmount","_handleChangeAmountBuyTicket","event","infoBuyTickerTemp","target","value","_handleChangeBagaggeBuyTicket","_handleChangeCarryOnBuyTicket","_handleChangeEndDate","_handleChangeSelectCityDestination","_handleChangeSelectCityOrigin","_handleChangeSelectCountryDestination","isLoadCountriesDestination","_handleChangeSelectCountryOrigin","isLoadCountriesOrigin","_handleChangeStartDate","render","spinnerCitiesOrigin","spinnerCitiesDestination","modalBuyTicket","margin","textAlign","marginTop","bind","item","index","takeOff","departure","landing","arrives","price","capacityPlane","airline_id","restrictions","services","color"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Button, Container, Col, Form, Modal, Spinner, Table } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport ConfirmationNumberIcon from '@material-ui/icons/ConfirmationNumber';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nclass Ticket extends React.Component {\r\n  _isMounted = false;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      citiesDestination: [],\r\n      citiesOrigin: [],\r\n      countries: [],\r\n      countryDestination: '',\r\n      countryOrigin: '',\r\n      dataUser: props.dataUser,\r\n      destination: '',\r\n      endDate: '',\r\n      infoBuyTicker: [],\r\n      origin: '',\r\n      passengerId: '',\r\n      result: [],\r\n      startDate: ''\r\n    };\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n    this._isMounted = true;\r\n    const countries = await fetch('https://raw.githubusercontent.com/shivammathur/countrycity/master/data/geo.json',\r\n      {\r\n        method: 'GET'\r\n      })\r\n      .then(response => response.json())\r\n      .then(responseJson => {\r\n        if (responseJson !== '' && this._isMounted) {\r\n          return Object.keys(responseJson).sort()\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n      });\r\n    fetch('https://raw.githubusercontent.com/dr5hn/countries-states-cities-database/master/countries.json',\r\n      {\r\n        method: \"GET\"\r\n      })\r\n      .then(response => response.json())\r\n      .then(responseJson => {\r\n        if (responseJson !== '' && this._isMounted) {\r\n          const tempCountries = []\r\n          responseJson.forEach(element => {\r\n            if (countries.includes(element.name)) {\r\n              tempCountries.push(element);\r\n            }\r\n          })\r\n          this.setState({\r\n            countries: tempCountries\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  _handleChangeAmountBuyTicket(event) {\r\n    let infoBuyTickerTemp = this.state.infoBuyTicker;\r\n    infoBuyTickerTemp.amount = event.target.value;\r\n    this.setState({ infoBuyTicker: infoBuyTickerTemp });\r\n  }\r\n\r\n  _handleChangeBagaggeBuyTicket(event) {\r\n    let infoBuyTickerTemp = this.state.infoBuyTicker;\r\n    infoBuyTickerTemp.bagagge = event.target.value;\r\n    this.setState({ infoBuyTicker: infoBuyTickerTemp });\r\n  }\r\n\r\n  _handleChangeCarryOnBuyTicket(event) {\r\n    let infoBuyTickerTemp = this.state.infoBuyTicker;\r\n    infoBuyTickerTemp.carryOn = event.target.value;\r\n    this.setState({ infoBuyTicker: infoBuyTickerTemp });\r\n  }\r\n\r\n  _handleChangeEndDate(event) {\r\n    this.setState({ endDate: event.target.value });\r\n  }\r\n\r\n  _handleChangeSelectCityDestination(event) {\r\n    this.setState({ destination: event.target.value })\r\n  }\r\n\r\n  _handleChangeSelectCityOrigin(event) {\r\n    this.setState({ origin: event.target.value });\r\n  }\r\n\r\n  _handleChangeSelectCountryDestination(event) {\r\n    this.setState({ countryDestination: event.target.value })\r\n    this.setState({\r\n      countryDestination: event.target.value,\r\n      isLoadCountriesDestination: true\r\n    })\r\n    fetch('https://raw.githubusercontent.com/shivammathur/countrycity/master/data/geo.json',\r\n      {\r\n        method: 'GET'\r\n      })\r\n      .then(response => response.json())\r\n      .then(responseJson => {\r\n        if (responseJson !== '') {\r\n          this.setState({\r\n            citiesDestination: responseJson[this.state.countryDestination].sort(),\r\n            isLoadCountriesDestination: false\r\n          })\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n  _handleChangeSelectCountryOrigin(event) {\r\n    this.setState({\r\n      countryOrigin: event.target.value,\r\n      isLoadCountriesOrigin: true\r\n    })\r\n    fetch('https://raw.githubusercontent.com/shivammathur/countrycity/master/data/geo.json',\r\n      {\r\n        method: 'GET'\r\n      })\r\n      .then(response => response.json())\r\n      .then(responseJson => {\r\n        if (responseJson !== '') {\r\n          this.setState({\r\n            citiesOrigin: responseJson[this.state.countryOrigin].sort(),\r\n            isLoadCountriesOrigin: false\r\n          })\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n  _handleChangeStartDate(event) {\r\n    this.setState({ startDate: event.target.value });\r\n  }\r\n\r\n  _onClickBuyTicket = async (flight) => {\r\n    let verify = window.confirm(`Desea comprar boletos para el vuelo: ${flight}`);\r\n    if (verify) {\r\n      //random id ticket\r\n      const chars = [...\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"]\r\n      let randomStringTicket_id = [...Array(3)].map(i => chars[Math.random() * chars.length | 0]).join``;\r\n      let randomNumberTicket_id = Math.floor((Math.random() * 999) + 1);\r\n      let dataTicket = {\r\n        _id: randomStringTicket_id + randomNumberTicket_id,\r\n        amount: '',\r\n        bagagge: '',\r\n        boarded: false,\r\n        carryOn: '',\r\n        checked: false,\r\n        dateBought: new Date().toISOString().slice(0, 10),\r\n        flight_id: flight,\r\n        passenger_id: this.state.dataUser._id,\r\n        seats: []\r\n      }\r\n      this.setState({\r\n        infoBuyTicker: dataTicket,\r\n        isOpenBuyTicker: true\r\n      })\r\n    }\r\n  };\r\n\r\n  _onClickModalAcceptBuyTicket = async () => {\r\n    await fetch('http://localhost:3000/passenger/buyTicket/',\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify(this.state.infoBuyTicker),\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n      .then(response => response.json())\r\n      .then(responseJson => {\r\n        if (responseJson._id === this.state.infoBuyTicker._id) {\r\n          window.confirm(`Se realizo correctamente la compra.`)\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n      });\r\n    let sendDataTicket = {\r\n      flightId: this.state.infoBuyTicker.flight_id\r\n    }\r\n    let updateFlight = await fetch('http://localhost:3000/passenger/soldTicket/',\r\n      {\r\n        method: \"PUT\",\r\n        body: JSON.stringify(sendDataTicket),\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n    if (updateFlight.ok) {\r\n      this.setState({ infoBuyTicker: [], result: [], isOpenBuyTicker: false })\r\n    }\r\n\r\n  }\r\n\r\n  _onClickModalCancelBuyTicket = () => {\r\n    this.setState({ isOpenBuyTicker: false })\r\n  }\r\n\r\n  _onClickSearchFlights = async () => {\r\n    if (this.state.origin === '' || this.state.destination === '') {\r\n      window.confirm(\"Debe ingresar origen y destino para la busqueda.\")\r\n    }\r\n    else if (this.state.endDate === '' || this.state.startDate === '') {\r\n      window.confirm(\"Debe ingresar un rango de fehcas.\")\r\n    }\r\n    else {\r\n      let data = {\r\n        origin1: this.state.origin,\r\n        destination1: this.state.destination,\r\n        date1: this.state.startDate,\r\n        date2: this.state.endDate\r\n      }\r\n      await fetch('http://localhost:3000/flights/',\r\n        {\r\n          method: \"POST\",\r\n          body: JSON.stringify(data),\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        })\r\n        .then(response => response.json())\r\n        .then(responseJson => {\r\n          this.setState({ result: responseJson, origin: '', destination: '', endDate: '', startDate: '', citiesDestination: [], citiesOrigin: [] })\r\n        })\r\n        .catch(error => {\r\n          console.error(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const spinnerCitiesOrigin = this.state.isLoadCountriesOrigin ? (\r\n      <Spinner animation=\"grow\" />\r\n    ) : null;\r\n    const spinnerCitiesDestination = this.state.isLoadCountriesDestination ? (\r\n      <Spinner animation=\"grow\" />\r\n    ) : null;\r\n    const modalBuyTicket = this.state.isOpenBuyTicker ? (\r\n      <Modal\r\n        show={this.state.isOpenBuyTicker}\r\n        onHide={this._onClickModalCancelBuyTicket}\r\n        dialogClassName=\"modal-90w\"\r\n        aria-labelledby=\"example-custom-modal-styling-title\"\r\n      >\r\n        <Modal.Header >\r\n          <Modal.Title id=\"example-custom-modal-styling-title\">\r\n            Comprar Boleto\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div style={{ margin: '2%', textAlign: 'center' }}>\r\n            <h6>Boleto Generado:  {this.state.infoBuyTicker._id}</h6>\r\n            <h6>Vuelo {this.state.infoBuyTicker.flight_id}</h6>\r\n          </div>\r\n          <Form>\r\n            <Form.Row style={{ marginTop: '2%' }}>\r\n              <Form.Group as={Col} controlId=\"ControlInputAmountTicketBuy\">\r\n                <Form.Label>Cantidad de boletos</Form.Label>\r\n                <Form.Control type=\"number\" placeholder=\"boletos\" onChange={this._handleChangeAmountBuyTicket.bind(this)} />\r\n              </Form.Group>\r\n            </Form.Row>\r\n            <Form.Row style={{ marginTop: '2%' }}>\r\n              <Form.Group as={Col} controlId=\"ControlInputEndDateBuy\">\r\n                <Form.Label>Cantidad de Maletas</Form.Label>\r\n                <Form.Control type=\"number\" placeholder=\"maletas en bodega\" onChange={this._handleChangeBagaggeBuyTicket.bind(this)} />\r\n              </Form.Group>\r\n            </Form.Row>\r\n            <Form.Row style={{ marginTop: '2%' }}>\r\n              <Form.Group as={Col} controlId=\"ControlInputEndDateBuy\">\r\n                <Form.Label>Cantidad de Maletas de Mano</Form.Label>\r\n                <Form.Control type=\"number\" placeholder=\"maletas de mano\" onChange={this._handleChangeCarryOnBuyTicket.bind(this)} />\r\n              </Form.Group>\r\n            </Form.Row>\r\n          </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={this._onClickModalCancelBuyTicket}> Cancelar</Button>\r\n          <Button variant=\"primary\" onClick={this._onClickModalAcceptBuyTicket}>Confirmar Compra</Button>\r\n        </Modal.Footer>\r\n      </Modal >\r\n    ) : null;\r\n    return (\r\n      <Container>\r\n        <div style={{ margin: '2%' }}>\r\n          <h3 align='center'>Comprar Boletos</h3>\r\n        </div>\r\n        <Form>\r\n          <Form.Row style={{ marginTop: '4%' }}>\r\n            <Form.Group as={Col} controlId=\"ControlSelectDestinationCountry\" >\r\n              <Form.Label>País de Origen</Form.Label>\r\n              <Form.Control as=\"select\" defaultValue={'DEFAULT'} onChange={this._handleChangeSelectCountryOrigin.bind(this)}>\r\n                <option value={'DEFAULT'} disabled hidden>Seleccionar país origen</option>\r\n                {this.state.countries.map((item, index) => (\r\n                  <option value={item.name} key={index} >{item.name}</option>\r\n                ))}\r\n              </Form.Control>\r\n            </Form.Group>\r\n            <Form.Group as={Col} controlId=\"ControlSelectOriginCity\" >\r\n              <Form.Label>Cuidad de Origen {spinnerCitiesOrigin}</Form.Label>\r\n              <Form.Control as=\"select\" defaultValue={'DEFAULT'} onChange={this._handleChangeSelectCityOrigin.bind(this)}>\r\n                <option value={'DEFAULT'} disabled hidden>Seleccionar cuidad origen</option>\r\n                {this.state.citiesOrigin.map((item, index) => (\r\n                  <option value={item} key={index} >{item}</option>\r\n                ))}\r\n              </Form.Control>\r\n            </Form.Group>\r\n            <Form.Group as={Col} controlId=\"ControlSelectDestinationCountry\" >\r\n              <Form.Label>País de Destino</Form.Label>\r\n              <Form.Control as=\"select\" defaultValue={'DEFAULT'} onChange={this._handleChangeSelectCountryDestination.bind(this)}>\r\n                <option value={'DEFAULT'} disabled hidden>Seleccionar país destino</option>\r\n                {this.state.countries.map((item, index) => (\r\n                  <option value={item.name} key={index} >{item.name}</option>\r\n                ))}\r\n              </Form.Control>\r\n            </Form.Group>\r\n            <Form.Group as={Col} controlId=\"ControlSelectDestinationCity\" >\r\n              <Form.Label>Cuidad de Destino {spinnerCitiesDestination}</Form.Label>\r\n              <Form.Control as=\"select\" defaultValue={'DEFAULT'} onChange={this._handleChangeSelectCityDestination.bind(this)}>\r\n                <option value={'DEFAULT'} disabled hidden>Seleccionar cuidad destino</option>\r\n                {this.state.citiesDestination.map((item, index) => (\r\n                  <option value={item} key={index} >{item}</option>\r\n                ))}\r\n              </Form.Control>\r\n            </Form.Group>\r\n          </Form.Row>\r\n          <Form.Row style={{ marginTop: '4%' }}>\r\n            <Form.Group as={Col} controlId=\"ControlInputStartDateBuy\">\r\n              <Form.Label>Desde</Form.Label>\r\n              <Form.Control type=\"date\" placeholder=\"dd/mm/yyyy\" onChange={this._handleChangeStartDate.bind(this)} />\r\n            </Form.Group>\r\n            <Form.Group as={Col} controlId=\"ControlInputEndDateBuy\">\r\n              <Form.Label>Hasta</Form.Label>\r\n              <Form.Control type=\"date\" placeholder=\"dd/mm/yyyy\" onChange={this._handleChangeEndDate.bind(this)} />\r\n            </Form.Group>\r\n            <Form.Group as={Col} controlId='formGridName'>\r\n              <Button\r\n                variant='primary'\r\n                size='lg'\r\n                onClick={this._onClickSearchFlights}>\r\n                Buscar\r\n                </Button>\r\n            </Form.Group>\r\n          </Form.Row>\r\n        </Form>\r\n        <div style={{ marginTop: '5%' }}>\r\n          <Table responsive>\r\n            <thead>\r\n              <tr>\r\n                <th>Identificador</th>\r\n                <th>Nombre</th>\r\n                <th>Origen</th>\r\n                <th>Destino</th>\r\n                <th>Itinerario</th>\r\n                <th>Precio</th>\r\n                <th>Estado</th>\r\n                <th>Capacidad permitida</th>\r\n                <th>Código de Aerolinea</th>\r\n                <th>Restricciones</th>\r\n                <th>Servicios</th>\r\n                <th>Comprar Boleto</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.result.map((item, index) => (\r\n                <tr key={index}>\r\n                  <td>{item._id}</td>\r\n                  <td>{item.name}</td>\r\n                  <td>{item.origin}</td>\r\n                  <td>{item.destination}</td>\r\n                  <td>Salida: {item.takeOff} [{item.departure}] - Llegada: {item.landing} [{item.arrives}]</td>\r\n                  <td>$ {item.price}</td>\r\n                  <td>{item.state}</td>\r\n                  <td>{item.capacityPlane}</td>\r\n                  <td>{item.airline_id}</td>\r\n                  <td>{JSON.stringify(item.restrictions)}</td>\r\n                  <td>{JSON.stringify(item.services)}</td>\r\n                  <td>\r\n                    <IconButton aria-label=\"apply\" style={{ color: 'green' }} onClick={this._onClickBuyTicket.bind(this, item._id)}>\r\n                      <ConfirmationNumberIcon />\r\n                    </IconButton>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n          {modalBuyTicket}\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Ticket;\r\n"]},"metadata":{},"sourceType":"module"}