{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gusfc\\\\Documents\\\\GitHub\\\\TI4601-vuelaTEC\\\\app\\\\vuelatec\\\\src\\\\components\\\\Administrator\\\\Flight\\\\Delete\\\\index.js\";\nimport React from 'react';\nimport { Container, Table } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport IconButton from '@material-ui/core/IconButton';\nimport Refresh from '@material-ui/icons/Refresh';\n\nclass Flight extends React.Component {\n  constructor(props) {\n    super(props);\n    this._isMounted = false;\n\n    this.componentDidMount = async () => {\n      this._isMounted = true;\n      await fetch('http://localhost:3000/admin/findAllFlights/', {\n        method: \"GET\"\n      }).then(response => response.json()).then(responseJson => {\n        if (responseJson !== '' && this._isMounted) {\n          this.setState({\n            listFlights: responseJson\n          });\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    };\n\n    this._onClickRefreshFlights = async () => {\n      await fetch('http://localhost:3000/admin/findAllFlights/', {\n        method: \"GET\"\n      }).then(response => response.json()).then(responseJson => {\n        if (responseJson !== '') {\n          this.setState({\n            listFlights: responseJson\n          });\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    };\n\n    this.state = {\n      listFlights: []\n    };\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  _onClickDeleteFlight(id) {\n    const verify = window.confirm(\"Confirmar para borrar el vuelo seleccionado.\");\n    console.log(verify);\n\n    if (verify) {\n      fetch(\"http://localhost:3000/admin/deleteFlight/\".concat(id), {\n        method: \"DELETE\",\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => response.json()).then(responseJson => {\n        if (responseJson._id === id) {\n          window.confirm(\"Vuelo borrado exisotamente, actualizar vista.\");\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        margin: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Borrar Vuelos\")), React.createElement(\"div\", {\n      style: {\n        margin: '5%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      \"aria-label\": \"refresh\",\n      onClick: this._onClickRefreshFlights,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Refresh, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })), React.createElement(Table, {\n      responsive: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Identificador\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Nombre\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Origen\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Destino\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Itinerario\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Precio\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Estado\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Capacidad permitida\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"C\\xF3digo de Aerolinea\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Restricciones\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Servicios\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Boletos Vendidos\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, this.state.listFlights.map((item, index) => React.createElement(\"tr\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, item._id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, item.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, item.origin), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, item.destination), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Salida: \", item.takeOff, \" [\", item.departure, \"] - Llegada: \", item.landing, \" [\", item.arrives, \"]\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"$ \", item.price), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, item.state), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, item.capacityPlane), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, item.airline_id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, JSON.stringify(item.restrictions)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, JSON.stringify(item.services)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, item.ticketsSold), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      \"aria-label\": \"delete\",\n      style: {\n        color: 'red'\n      },\n      onClick: this._onClickDeleteFlight.bind(this, item._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(DeleteIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    })))))))));\n  }\n\n}\n\nexport default Flight;","map":{"version":3,"sources":["C:/Users/gusfc/Documents/GitHub/TI4601-vuelaTEC/app/vuelatec/src/components/Administrator/Flight/Delete/index.js"],"names":["React","Container","Table","DeleteIcon","IconButton","Refresh","Flight","Component","constructor","props","_isMounted","componentDidMount","fetch","method","then","response","json","responseJson","setState","listFlights","catch","error","console","_onClickRefreshFlights","state","componentWillUnmount","_onClickDeleteFlight","id","verify","window","confirm","log","headers","_id","render","margin","map","item","index","name","origin","destination","takeOff","departure","landing","arrives","price","capacityPlane","airline_id","JSON","stringify","restrictions","services","ticketsSold","color","bind"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Container, Table } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Refresh from '@material-ui/icons/Refresh';\r\n\r\nclass Flight extends React.Component {\r\n  _isMounted = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      listFlights: []\r\n    };\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n    this._isMounted = true;\r\n\r\n    await fetch('http://localhost:3000/admin/findAllFlights/',\r\n      {\r\n        method: \"GET\"\r\n      })\r\n      .then(response => response.json())\r\n      .then(responseJson => {\r\n        if (responseJson !== '' && this._isMounted) {\r\n          this.setState({\r\n            listFlights: responseJson\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  _onClickDeleteFlight(id) {\r\n    const verify = window.confirm(\"Confirmar para borrar el vuelo seleccionado.\")\r\n    console.log(verify)\r\n    if (verify) {\r\n      fetch(`http://localhost:3000/admin/deleteFlight/${id}`,\r\n        {\r\n          method: \"DELETE\",\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        })\r\n        .then(response => response.json())\r\n        .then(responseJson => {\r\n          if (responseJson._id === id) {\r\n            window.confirm(\"Vuelo borrado exisotamente, actualizar vista.\")\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  _onClickRefreshFlights = async () => {\r\n    await fetch('http://localhost:3000/admin/findAllFlights/',\r\n      {\r\n        method: \"GET\"\r\n      })\r\n      .then(response => response.json())\r\n      .then(responseJson => {\r\n        if (responseJson !== '') {\r\n          this.setState({\r\n            listFlights: responseJson\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <div style={{ margin: '2%' }}>\r\n          <h3 align='center'>Borrar Vuelos</h3>\r\n        </div>\r\n\r\n        <div style={{ margin: '5%' }}>\r\n          <IconButton aria-label=\"refresh\" onClick={this._onClickRefreshFlights}>\r\n            <Refresh />\r\n          </IconButton>\r\n          <Table responsive>\r\n            <thead>\r\n              <tr>\r\n                <th>Identificador</th>\r\n                <th>Nombre</th>\r\n                <th>Origen</th>\r\n                <th>Destino</th>\r\n                <th>Itinerario</th>\r\n                <th>Precio</th>\r\n                <th>Estado</th>\r\n                <th>Capacidad permitida</th>\r\n                <th>Código de Aerolinea</th>\r\n                <th>Restricciones</th>\r\n                <th>Servicios</th>\r\n                <th>Boletos Vendidos</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.listFlights.map((item, index) => (\r\n                <tr key={index}>\r\n                  <td>{item._id}</td>\r\n                  <td>{item.name}</td>\r\n                  <td>{item.origin}</td>\r\n                  <td>{item.destination}</td>\r\n                  <td>Salida: {item.takeOff} [{item.departure}] - Llegada: {item.landing} [{item.arrives}]</td>\r\n                  <td>$ {item.price}</td>\r\n                  <td>{item.state}</td>\r\n                  <td>{item.capacityPlane}</td>\r\n                  <td>{item.airline_id}</td>\r\n                  <td>{JSON.stringify(item.restrictions)}</td>\r\n                  <td>{JSON.stringify(item.services)}</td>\r\n                  <td>{item.ticketsSold}</td>\r\n                  <td>\r\n                    <IconButton aria-label=\"delete\" style={{ color: 'red' }} onClick={this._onClickDeleteFlight.bind(this, item._id)}>\r\n                      <DeleteIcon />\r\n                    </IconButton>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Flight;\r\n"]},"metadata":{},"sourceType":"module"}