{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gusfc\\\\Documents\\\\GitHub\\\\TI4601-vuelaTEC\\\\app\\\\vuelatec\\\\src\\\\components\\\\session\\\\signup.js\";\nimport React from 'react';\nimport { Button, Col, Container, Form, Row, Spinner } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport AddIcon from '@material-ui/icons/Add';\nimport Fab from '@material-ui/core/Fab';\nimport SimpleCrypto from 'simple-crypto-js';\nimport Menu from '../menu';\n\nclass Signup extends React.Component {\n  constructor(props) {\n    super(props);\n    this._isMounted = false;\n\n    this.componentDidMount = async () => {\n      this._isMounted = true;\n      const countries = await fetch('https://raw.githubusercontent.com/shivammathur/countrycity/master/data/geo.json', {\n        method: 'GET'\n      }).then(response => response.json()).then(responseJson => {\n        if (responseJson !== '' && this._isMounted) {\n          return Object.keys(responseJson).sort();\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n      fetch('https://raw.githubusercontent.com/dr5hn/countries-states-cities-database/master/countries.json', {\n        method: \"GET\"\n      }).then(response => response.json()).then(responseJson => {\n        if (responseJson !== '' && this._isMounted) {\n          const tempCountries = [];\n          responseJson.forEach(element => {\n            if (countries.includes(element.name)) {\n              tempCountries.push(element);\n            }\n          });\n          this.setState({\n            listCountries: tempCountries\n          });\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    };\n\n    this._handleChangeSelectCountry = async event => {\n      const item = await JSON.parse(event.target.value.toString());\n      this.setState({\n        country: item[\"country\"],\n        codeCountry: item[\"code\"],\n        isLoadCities: true\n      });\n      fetch('https://raw.githubusercontent.com/shivammathur/countrycity/master/data/geo.json', {\n        method: 'GET'\n      }).then(response => response.json()).then(responseJson => {\n        if (responseJson !== '') {\n          this.setState({\n            listCities: responseJson[this.state.country].sort(),\n            isLoadCities: false\n          });\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    };\n\n    this._onClckAddPhone = () => {\n      if (this.state.phone !== '') {\n        this.setState({\n          phones: [...this.state.phones, this.state.phone],\n          phone: ''\n        });\n      }\n    };\n\n    this._submitData = async () => {\n      if (this.state.country === '' || this.state.address === '') {\n        window.confirm(\"Debe seleccionar un pais y una ciudad.\");\n      } else if (this.state.firstName === '' || this.state.lastName === '') {\n        window.confirm(\"Debe ingresar nombre completo.\");\n      } else if (this.state.id === '' || this.state.userName === '') {\n        window.confirm(\"Debe ingresar numero de identificacion y usuario.\");\n      } else if (this.state.birthDay === '') {\n        window.confirm(\"Debe ingresar una fecha de nacimiento valida.\");\n      } else if (this.state.email === '') {\n        window.confirm(\"Debe ingresar un correo valido.\");\n      } else if (this.state.phones.length === 0) {\n        window.confirm(\"Debe ingresar al menos un numero telefonico.\");\n      } else if (this.state.password === '' || this.state.passwordConfirm === '') {\n        window.confirm(\"Debe ingresar una contraseña para crear la cuenta.\");\n      } else if (this.state.password !== this.state.passwordConfirm) {\n        window.confirm(\"La contraseña de confirmacion es incorrecta, valide.\");\n      } else {\n        const simpleCrypto = new SimpleCrypto('vtecAPP');\n        const passwordEncrypt = simpleCrypto.encrypt(this.state.password);\n        let data = {\n          _id: this.state.id,\n          address: this.state.address,\n          birthday: this.state.birthDay,\n          country: this.state.country,\n          email: this.state.email,\n          firstName: this.state.firstName,\n          lastName: this.state.lastName,\n          password: passwordEncrypt,\n          phone: this.state.phones,\n          username: this.state.userName\n        };\n        let result = await fetch('http://localhost:3000/passenger/createProfile/', {\n          method: \"POST\",\n          body: JSON.stringify(data),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n\n        if (result.ok) {\n          window.confirm(\"¡Bienvenido al sistema VuelaTEC!\");\n          this.setState({\n            isCreateAccount: true,\n            user: [{\n              '_id': this.state.id\n            }]\n          });\n        }\n      }\n    };\n\n    this.state = {\n      address: '',\n      birthDay: '',\n      country: '',\n      email: '',\n      firstName: '',\n      id: '',\n      isCreateAccount: false,\n      lastName: '',\n      listCities: [],\n      listCountries: [],\n      password: '',\n      passwordConfirm: '',\n      phone: '',\n      phones: [],\n      user: [],\n      userName: ''\n    };\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  _handleChangeBirthDay(event) {\n    this.setState({\n      birthDay: event.target.value\n    });\n  }\n\n  _handleChangeEmail(event) {\n    this.setState({\n      email: event.target.value\n    });\n  }\n\n  _handleChangeFirstName(event) {\n    this.setState({\n      firstName: event.target.value\n    });\n  }\n\n  _handleChangeId(event) {\n    this.setState({\n      id: event.target.value\n    });\n  }\n\n  _handleChangeLastName(event) {\n    this.setState({\n      lastName: event.target.value\n    });\n  }\n\n  _handleChangePassword(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  _handleChangePasswordConfirm(event) {\n    this.setState({\n      passwordConfirm: event.target.value\n    });\n  }\n\n  _handleChangePhone(event) {\n    this.setState({\n      phone: event.target.value\n    });\n  }\n\n  _handleChangeSelectCity(event) {\n    this.setState({\n      address: event.target.value\n    });\n  }\n\n  _handleChangeUserName(event) {\n    this.setState({\n      userName: event.target.value\n    });\n  }\n\n  render() {\n    const spinnerCities = this.state.isLoadCities ? React.createElement(Spinner, {\n      animation: \"grow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }) : null;\n\n    if (this.state.isCreateAccount) {\n      return React.createElement(Menu, {\n        dataUser: this.state.user[0],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          margin: '2%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, \"Crear Cuenta de Pasajero en VuelaTEC\")), React.createElement(Row, {\n        className: \"justify-content-md-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: true,\n        lg: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }), React.createElement(Col, {\n        md: \"auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(Form.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, \"Nombre\"), React.createElement(Form.Control, {\n        type: \"name\",\n        placeholder: \"Nombre\",\n        value: this.state.firstName,\n        onChange: this._handleChangeFirstName.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridLastname\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, \"Apellido\"), React.createElement(Form.Control, {\n        type: \"name\",\n        placeholder: \"Apellido\",\n        value: this.state.lastName,\n        onChange: this._handleChangeLastName.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }))), React.createElement(Form.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridId\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, \"Identificaci\\xF3n\"), React.createElement(Form.Control, {\n        type: \"number\",\n        placeholder: \"Numero de identificacion o pasaporte\",\n        value: this.state.id,\n        onChange: this._handleChangeId.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }))), React.createElement(Form.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridUsername\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, \"Usuario\"), React.createElement(Form.Control, {\n        type: \"string\",\n        placeholder: \"Usuario\",\n        value: this.state.userName,\n        onChange: this._handleChangeUserName.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }))), React.createElement(Form.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridEmail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, \"Correo electr\\xF3nico\"), React.createElement(Form.Control, {\n        type: \"email\",\n        placeholder: \"Correo electr\\xF3nico\",\n        value: this.state.email,\n        onChange: this._handleChangeEmail.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }))), React.createElement(Form.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridPassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, \"Contrase\\xF1a\"), React.createElement(Form.Control, {\n        type: \"password\",\n        placeholder: \"Contrase\\xF1a\",\n        value: this.state.password,\n        onChange: this._handleChangePassword.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridPasswordConfirm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, \"Confirmar Contrase\\xF1a\"), React.createElement(Form.Control, {\n        type: \"password\",\n        placeholder: \"Contrase\\xF1a\",\n        value: this.state.passwordConfirm,\n        onChange: this._handleChangePasswordConfirm.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }))), React.createElement(Form.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridBirthDay\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, \"Fecha de Nacimiento\"), React.createElement(Form.Control, {\n        type: \"date\",\n        placeholder: \"dd/mm/yyyy\",\n        value: this.state.birthDay,\n        onChange: this._handleChangeBirthDay.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }))), React.createElement(Form.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"ControlSelectCountry\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, \"Pa\\xEDs\"), React.createElement(Form.Control, {\n        as: \"select\",\n        defaultValue: 'DEFAULT',\n        onChange: this._handleChangeSelectCountry.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: 'DEFAULT',\n        disabled: true,\n        hidden: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, \"Seleccionar un pa\\xEDs\"), this.state.listCountries.map((item, index) => React.createElement(\"option\", {\n        value: '{\"country\":\"' + item.name + '\", \"code\":\"' + item.phone_code + '\"}',\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, item.name)))), React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"ControlSelectCity\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, \"Ciudad \", spinnerCities), React.createElement(Form.Control, {\n        as: \"select\",\n        defaultValue: 'DEFAULT',\n        onChange: this._handleChangeSelectCity.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: 'DEFAULT',\n        disabled: true,\n        hidden: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }, \"Seleccionar una cuidad\"), this.state.listCities.map((item, key) => React.createElement(\"option\", {\n        key: key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, item))))), React.createElement(Form.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridNumber\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, \"N\\xFAmero de Telef\\xF3no\"), React.createElement(Form.Control, {\n        type: \"number\",\n        placeholder: \"Numero telefonico\",\n        value: this.state.phone,\n        onChange: this._handleChangePhone.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        controlId: \"formGridAddPhone\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, React.createElement(Fab, {\n        variant: \"extended\",\n        \"aria-label\": \"add\",\n        onClick: this._onClckAddPhone,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, React.createElement(AddIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }), \"Agregar Numero\"), this.state.phones.map((item, key) => React.createElement(\"p\", {\n        style: {\n          margin: '2%'\n        },\n        key: key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, \" (+\", this.state.codeCountry, \")  \", item)))))), React.createElement(Col, {\n        xs: true,\n        lg: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      })), React.createElement(Row, {\n        className: \"justify-content-md-center\",\n        style: {\n          margin: '3%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        size: \"lg\",\n        onClick: this._submitData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, \"Aceptar\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        size: \"lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"http://localhost:8080\",\n        style: {\n          color: 'white',\n          textDecoration: 'none'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }, \"Cancelar\"))))));\n    }\n  }\n\n}\n\nexport default Signup;","map":{"version":3,"sources":["C:/Users/gusfc/Documents/GitHub/TI4601-vuelaTEC/app/vuelatec/src/components/session/signup.js"],"names":["React","Button","Col","Container","Form","Row","Spinner","AddIcon","Fab","SimpleCrypto","Menu","Signup","Component","constructor","props","_isMounted","componentDidMount","countries","fetch","method","then","response","json","responseJson","Object","keys","sort","catch","error","console","tempCountries","forEach","element","includes","name","push","setState","listCountries","_handleChangeSelectCountry","event","item","JSON","parse","target","value","toString","country","codeCountry","isLoadCities","listCities","state","_onClckAddPhone","phone","phones","_submitData","address","window","confirm","firstName","lastName","id","userName","birthDay","email","length","password","passwordConfirm","simpleCrypto","passwordEncrypt","encrypt","data","_id","birthday","username","result","body","stringify","headers","ok","isCreateAccount","user","componentWillUnmount","_handleChangeBirthDay","_handleChangeEmail","_handleChangeFirstName","_handleChangeId","_handleChangeLastName","_handleChangePassword","_handleChangePasswordConfirm","_handleChangePhone","_handleChangeSelectCity","_handleChangeUserName","render","spinnerCities","margin","bind","map","index","phone_code","key","color","textDecoration"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Button, Col, Container, Form, Row, Spinner } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport SimpleCrypto from 'simple-crypto-js';\r\n\r\nimport Menu from '../menu';\r\n\r\nclass Signup extends React.Component {\r\n  _isMounted = false;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      address: '',\r\n      birthDay: '',\r\n      country: '',\r\n      email: '',\r\n      firstName: '',\r\n      id: '',\r\n      isCreateAccount: false,\r\n      lastName: '',\r\n      listCities: [],\r\n      listCountries: [],\r\n      password: '',\r\n      passwordConfirm: '',\r\n      phone: '',\r\n      phones: [],\r\n      user: [],\r\n      userName: ''\r\n    };\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n    this._isMounted = true;\r\n    const countries = await fetch('https://raw.githubusercontent.com/shivammathur/countrycity/master/data/geo.json',\r\n      {\r\n        method: 'GET'\r\n      })\r\n      .then(response => response.json())\r\n      .then(responseJson => {\r\n        if (responseJson !== '' && this._isMounted) {\r\n          return Object.keys(responseJson).sort()\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n      });\r\n    fetch('https://raw.githubusercontent.com/dr5hn/countries-states-cities-database/master/countries.json',\r\n      {\r\n        method: \"GET\"\r\n      })\r\n      .then(response => response.json())\r\n      .then(responseJson => {\r\n        if (responseJson !== '' && this._isMounted) {\r\n          const tempCountries = []\r\n          responseJson.forEach(element => {\r\n            if (countries.includes(element.name)) {\r\n              tempCountries.push(element);\r\n            }\r\n          })\r\n          this.setState({\r\n            listCountries: tempCountries\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  _handleChangeBirthDay(event) {\r\n    this.setState({ birthDay: event.target.value })\r\n  }\r\n\r\n  _handleChangeEmail(event) {\r\n    this.setState({ email: event.target.value })\r\n  }\r\n\r\n  _handleChangeFirstName(event) {\r\n    this.setState({ firstName: event.target.value })\r\n  }\r\n\r\n  _handleChangeId(event) {\r\n    this.setState({ id: event.target.value })\r\n  }\r\n\r\n  _handleChangeLastName(event) {\r\n    this.setState({ lastName: event.target.value })\r\n  }\r\n\r\n  _handleChangePassword(event) {\r\n    this.setState({ password: event.target.value })\r\n  }\r\n\r\n  _handleChangePasswordConfirm(event) {\r\n    this.setState({ passwordConfirm: event.target.value })\r\n  }\r\n\r\n  _handleChangePhone(event) {\r\n    this.setState({ phone: event.target.value })\r\n  }\r\n\r\n  _handleChangeSelectCity(event) {\r\n    this.setState({ address: event.target.value })\r\n  }\r\n\r\n  _handleChangeSelectCountry = async (event) => {\r\n    const item = await JSON.parse(event.target.value.toString())\r\n    this.setState({\r\n      country: item[\"country\"],\r\n      codeCountry: item[\"code\"],\r\n      isLoadCities: true\r\n    })\r\n    fetch('https://raw.githubusercontent.com/shivammathur/countrycity/master/data/geo.json',\r\n      {\r\n        method: 'GET'\r\n      })\r\n      .then(response => response.json())\r\n      .then(responseJson => {\r\n        if (responseJson !== '') {\r\n          this.setState({\r\n            listCities: responseJson[this.state.country].sort(),\r\n            isLoadCities: false\r\n          })\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n      });\r\n  }\r\n\r\n  _handleChangeUserName(event) {\r\n    this.setState({ userName: event.target.value })\r\n  }\r\n\r\n  _onClckAddPhone = () => {\r\n    if (this.state.phone !== '') {\r\n      this.setState({\r\n        phones: [...this.state.phones, this.state.phone],\r\n        phone: ''\r\n      })\r\n    }\r\n  }\r\n\r\n  _submitData = async () => {\r\n    if (this.state.country === '' || this.state.address === '') {\r\n      window.confirm(\"Debe seleccionar un pais y una ciudad.\")\r\n    }\r\n    else if (this.state.firstName === '' || this.state.lastName === '') {\r\n      window.confirm(\"Debe ingresar nombre completo.\")\r\n    }\r\n    else if (this.state.id === '' || this.state.userName === '') {\r\n      window.confirm(\"Debe ingresar numero de identificacion y usuario.\")\r\n    }\r\n    else if (this.state.birthDay === '') {\r\n      window.confirm(\"Debe ingresar una fecha de nacimiento valida.\")\r\n    }\r\n    else if (this.state.email === '') {\r\n      window.confirm(\"Debe ingresar un correo valido.\")\r\n    }\r\n    else if (this.state.phones.length === 0) {\r\n      window.confirm(\"Debe ingresar al menos un numero telefonico.\")\r\n    }\r\n    else if (this.state.password === '' || this.state.passwordConfirm === '') {\r\n      window.confirm(\"Debe ingresar una contraseña para crear la cuenta.\")\r\n    }\r\n    else if (this.state.password !== this.state.passwordConfirm) {\r\n      window.confirm(\"La contraseña de confirmacion es incorrecta, valide.\")\r\n    }\r\n    else {\r\n      const simpleCrypto = new SimpleCrypto('vtecAPP');\r\n      const passwordEncrypt = simpleCrypto.encrypt(this.state.password);\r\n      let data = {\r\n        _id: this.state.id,\r\n        address: this.state.address,\r\n        birthday: this.state.birthDay,\r\n        country: this.state.country,\r\n        email: this.state.email,\r\n        firstName: this.state.firstName,\r\n        lastName: this.state.lastName,\r\n        password: passwordEncrypt,\r\n        phone: this.state.phones,\r\n        username: this.state.userName\r\n      }\r\n      let result = await fetch('http://localhost:3000/passenger/createProfile/',\r\n        {\r\n          method: \"POST\",\r\n          body: JSON.stringify(data),\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n      if (result.ok) {\r\n        window.confirm(\"¡Bienvenido al sistema VuelaTEC!\");\r\n        this.setState({\r\n          isCreateAccount: true,\r\n          user: [{ '_id': this.state.id }]\r\n        })\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const spinnerCities = this.state.isLoadCities ?\r\n      (\r\n        <Spinner animation=\"grow\" />\r\n      ) : null;\r\n    if (this.state.isCreateAccount) {\r\n      return (\r\n        <Menu dataUser={this.state.user[0]} />\r\n      );\r\n    } else {\r\n      return (\r\n        <Container>\r\n          <div style={{ margin: '2%' }}>\r\n            <h1 align='center'>Crear Cuenta de Pasajero en VuelaTEC</h1>\r\n          </div>\r\n          <Row className='justify-content-md-center'>\r\n            <Col xs lg='2'></Col>\r\n            <Col md='auto'>\r\n              <Form>\r\n                <Form.Row>\r\n                  <Form.Group as={Col} controlId='formGridName'>\r\n                    <Form.Label>Nombre</Form.Label>\r\n                    <Form.Control type='name' placeholder='Nombre' value={this.state.firstName} onChange={this._handleChangeFirstName.bind(this)} />\r\n                  </Form.Group>\r\n\r\n                  <Form.Group as={Col} controlId='formGridLastname'>\r\n                    <Form.Label>Apellido</Form.Label>\r\n                    <Form.Control type='name' placeholder='Apellido' value={this.state.lastName} onChange={this._handleChangeLastName.bind(this)} />\r\n                  </Form.Group>\r\n                </Form.Row>\r\n\r\n                <Form.Row>\r\n                  <Form.Group as={Col} controlId='formGridId'>\r\n                    <Form.Label>Identificación</Form.Label>\r\n                    <Form.Control type='number' placeholder='Numero de identificacion o pasaporte' value={this.state.id} onChange={this._handleChangeId.bind(this)} />\r\n                  </Form.Group>\r\n                </Form.Row>\r\n\r\n                <Form.Row>\r\n                  <Form.Group as={Col} controlId='formGridUsername'>\r\n                    <Form.Label>Usuario</Form.Label>\r\n                    <Form.Control type='string' placeholder='Usuario' value={this.state.userName} onChange={this._handleChangeUserName.bind(this)} />\r\n                  </Form.Group>\r\n                </Form.Row>\r\n\r\n                <Form.Row>\r\n                  <Form.Group as={Col} controlId='formGridEmail'>\r\n                    <Form.Label>Correo electrónico</Form.Label>\r\n                    <Form.Control type='email' placeholder='Correo electrónico' value={this.state.email} onChange={this._handleChangeEmail.bind(this)} />\r\n                  </Form.Group>\r\n                </Form.Row>\r\n\r\n                <Form.Row>\r\n                  <Form.Group as={Col} controlId='formGridPassword'>\r\n                    <Form.Label>Contraseña</Form.Label>\r\n                    <Form.Control type='password' placeholder='Contraseña' value={this.state.password} onChange={this._handleChangePassword.bind(this)} />\r\n                  </Form.Group>\r\n\r\n                  <Form.Group as={Col} controlId='formGridPasswordConfirm'>\r\n                    <Form.Label>Confirmar Contraseña</Form.Label>\r\n                    <Form.Control type='password' placeholder='Contraseña' value={this.state.passwordConfirm} onChange={this._handleChangePasswordConfirm.bind(this)} />\r\n                  </Form.Group>\r\n                </Form.Row>\r\n\r\n                <Form.Row>\r\n                  <Form.Group as={Col} controlId='formGridBirthDay'>\r\n                    <Form.Label>Fecha de Nacimiento</Form.Label>\r\n                    <Form.Control type=\"date\" placeholder=\"dd/mm/yyyy\" value={this.state.birthDay} onChange={this._handleChangeBirthDay.bind(this)} />\r\n                  </Form.Group>\r\n                </Form.Row>\r\n\r\n\r\n                <Form.Row>\r\n                  <Form.Group as={Col} controlId=\"ControlSelectCountry\">\r\n                    <Form.Label>País</Form.Label>\r\n                    <Form.Control as=\"select\" defaultValue={'DEFAULT'} onChange={this._handleChangeSelectCountry.bind(this)}>\r\n                      <option value={'DEFAULT'} disabled hidden>Seleccionar un país</option>\r\n                      {this.state.listCountries.map((item, index) => (\r\n                        <option value={'{\"country\":\"' + item.name + '\", \"code\":\"' + item.phone_code + '\"}'} key={index} >{item.name}</option>\r\n                      ))}\r\n                    </Form.Control>\r\n                  </Form.Group>\r\n\r\n                  <Form.Group as={Col} controlId=\"ControlSelectCity\">\r\n                    <Form.Label>Ciudad {spinnerCities}</Form.Label>\r\n                    <Form.Control as=\"select\" defaultValue={'DEFAULT'} onChange={this._handleChangeSelectCity.bind(this)}>\r\n                      <option value={'DEFAULT'} disabled hidden>Seleccionar una cuidad</option>\r\n                      {this.state.listCities.map((item, key) => (\r\n                        <option key={key}>{item}</option>\r\n                      ))}\r\n                    </Form.Control>\r\n                  </Form.Group>\r\n                </Form.Row>\r\n\r\n                <Form.Row>\r\n                  <Form.Group as={Col} controlId='formGridNumber'>\r\n                    <Form.Label>Número de Telefóno</Form.Label>\r\n                    <Form.Control type='number' placeholder='Numero telefonico' value={this.state.phone} onChange={this._handleChangePhone.bind(this)} />\r\n                  </Form.Group>\r\n\r\n                  <Form.Group controlId='formGridAddPhone'>\r\n                    <Fab variant=\"extended\" aria-label=\"add\" onClick={this._onClckAddPhone}>\r\n                      <AddIcon />\r\n                      Agregar Numero\r\n                  </Fab>\r\n                    {this.state.phones.map((item, key) => (\r\n                      <p style={{ margin: '2%' }} key={key}> (+{this.state.codeCountry})  {item}</p>\r\n                    ))}\r\n                  </Form.Group>\r\n\r\n                </Form.Row>\r\n\r\n              </Form>\r\n            </Col>\r\n            <Col xs lg='2'></Col>\r\n          </Row>\r\n\r\n          <Row className='justify-content-md-center' style={{ margin: '3%' }}>\r\n            <div>\r\n              <Button\r\n                variant='primary'\r\n                type='submit'\r\n                size='lg'\r\n                onClick={this._submitData}\r\n              >\r\n                Aceptar\r\n            </Button>\r\n            </div>\r\n\r\n            <div>\r\n              <Col md='auto'>\r\n                <Button\r\n                  variant='primary'\r\n                  type='submit'\r\n                  size='lg'\r\n                >\r\n                  <a href=\"http://localhost:8080\" style={{ color: 'white', textDecoration: 'none' }}>Cancelar</a>\r\n                </Button>\r\n              </Col>\r\n            </div>\r\n          </Row>\r\n        </Container>\r\n      );\r\n    }\r\n  }\r\n}\r\nexport default Signup;\r\n"]},"metadata":{},"sourceType":"module"}