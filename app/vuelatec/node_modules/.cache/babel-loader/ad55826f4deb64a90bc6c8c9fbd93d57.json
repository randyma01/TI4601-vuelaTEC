{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gusfc\\\\Documents\\\\GitHub\\\\TI4601-vuelaTEC\\\\app\\\\vuelatec\\\\src\\\\components\\\\Administrator\\\\Airport\\\\Update\\\\index.js\";\nimport React from 'react';\nimport { Button, Col, Container, Form, Row } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nclass Airport extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this._onClickSearchAirport = async () => {\n      if (this.state.code === '') {\n        window.confirm(\"Debe ingresar un cÃ³digo de aeropuerto para modificar.\");\n      } else {\n        await fetch(\"http://localhost:3000/admin/findAirportsId/\".concat(this.state.code), {\n          method: \"GET\"\n        }).then(response => response.json()).then(responseJson => {\n          if (responseJson !== '') {\n            this.setState({\n              airport: responseJson,\n              code: ''\n            });\n          }\n        }).catch(error => {\n          console.error(error);\n        });\n        await fetch('https://raw.githubusercontent.com/dr5hn/countries-states-cities-database/master/countries.json', {\n          method: \"GET\"\n        }).then(response => response.json()).then(responseJson => {\n          if (responseJson !== '') {\n            responseJson.map(item => {\n              if (item.name === this.state.airport.country) {\n                return this.setState({\n                  countryCode: item.phone_code\n                });\n              } else {\n                return '';\n              }\n            });\n          }\n        }).catch(error => {\n          console.error(error);\n        });\n      }\n    };\n\n    this._submitData = async () => {\n      if (this.state.name === '') {\n        window.confirm(\"Debe ingresar un nombre aeropuerto.\");\n      } else if (this.state.number === '' || this.state.webPage === '') {\n        window.confirm(\"Debe ingresar un numero o sito web validos.\");\n      } else {\n        let data = {\n          name: this.state.name,\n          number: \"(+\".concat(this.state.countryCode, \") \").concat(this.state.number),\n          webPage: this.state.webPage\n        };\n        await fetch(\"http://localhost:3000/admin/updateAirport/\".concat(this.state.airport._id), {\n          method: \"PUT\",\n          body: JSON.stringify(data),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }).then(response => response.json()).then(responseJson => {\n          if (responseJson.name === this.state.name) {\n            this.setState({\n              name: '',\n              airport: [],\n              number: '',\n              webPage: '',\n              countryCode: ''\n            });\n            window.confirm(\"Se actualizado correctamente el aeropuerto.\");\n          }\n        }).catch(error => {\n          console.error(error);\n        });\n      }\n    };\n\n    this.state = {\n      airport: [],\n      code: '',\n      countryCode: '',\n      name: '',\n      number: '',\n      webPage: ''\n    };\n  }\n\n  _handleChangeCode(event) {\n    this.setState({\n      code: event.target.value\n    });\n  }\n\n  _handleChangeName(event) {\n    this.setState({\n      name: event.target.value\n    });\n  }\n\n  _handleChangeNumber(event) {\n    this.setState({\n      number: event.target.value\n    });\n  }\n\n  _handleChangeWebPage(event) {\n    this.setState({\n      webPage: event.target.value\n    });\n  }\n\n  render() {\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        margin: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Actualizar Aeropuerto\")), React.createElement(Row, {\n      className: \"justify-content-md-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: true,\n      lg: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }), React.createElement(Col, {\n      md: \"auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      style: {\n        marginTop: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridCodeSearchAirport\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"C\\xF3digo\"), React.createElement(Form.Control, {\n      type: \"string\",\n      placeholder: \"C\\xF3digo de aeropuerto modificar\",\n      value: this.state.code,\n      onChange: this._handleChangeCode.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this._onClickSearchAirport,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Buscar\")))), React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      style: {\n        marginTop: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Nombre\"), React.createElement(Form.Control, {\n      type: \"string\",\n      placeholder: this.state.airport.name,\n      value: this.state.name,\n      onChange: this._handleChangeName.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridLastname\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"C\\xF3digo\"), React.createElement(Form.Control, {\n      type: \"string\",\n      placeholder: this.state.airport._id,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }))), React.createElement(Form.Row, {\n      style: {\n        marginTop: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"ControlSelectCountry\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Pa\\xEDs\"), React.createElement(Form.Control, {\n      type: \"string\",\n      placeholder: this.state.airport.country,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"ControlSelectCity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"Ciudad\"), React.createElement(Form.Control, {\n      type: \"string\",\n      placeholder: this.state.airport.city,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }))), React.createElement(Form.Row, {\n      style: {\n        marginTop: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridNumber\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"N\\xFAmero de Telef\\xF3no (+\", this.state.countryCode, \")\"), React.createElement(Form.Control, {\n      type: \"number\",\n      placeholder: this.state.airport.number,\n      value: this.state.number,\n      onChange: this._handleChangeNumber.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }))), React.createElement(Form.Row, {\n      style: {\n        marginTop: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGrid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"URL de sitio web\"), React.createElement(Form.Control, {\n      type: \"string\",\n      placeholder: this.state.airport.webPage,\n      value: this.state.webPage,\n      onChange: this._handleChangeWebPage.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }))))), React.createElement(Col, {\n      xs: true,\n      lg: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    })), React.createElement(Row, {\n      className: \"justify-content-md-center\",\n      style: {\n        margin: '3%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      size: \"lg\",\n      onClick: this._submitData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"Confirmar\")));\n  }\n\n}\n\nexport default Airport;","map":{"version":3,"sources":["C:/Users/gusfc/Documents/GitHub/TI4601-vuelaTEC/app/vuelatec/src/components/Administrator/Airport/Update/index.js"],"names":["React","Button","Col","Container","Form","Row","Airport","Component","constructor","props","_onClickSearchAirport","state","code","window","confirm","fetch","method","then","response","json","responseJson","setState","airport","catch","error","console","map","item","name","country","countryCode","phone_code","_submitData","number","webPage","data","_id","body","JSON","stringify","headers","_handleChangeCode","event","target","value","_handleChangeName","_handleChangeNumber","_handleChangeWebPage","render","margin","marginTop","bind","city"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Button, Col, Container, Form, Row } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nclass Airport extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      airport: [],\r\n      code: '',\r\n      countryCode: '',\r\n      name: '',\r\n      number: '',\r\n      webPage: ''\r\n    };\r\n  }\r\n\r\n  _handleChangeCode(event) {\r\n    this.setState({ code: event.target.value })\r\n  }\r\n\r\n  _handleChangeName(event) {\r\n    this.setState({ name: event.target.value })\r\n  }\r\n\r\n  _handleChangeNumber(event) {\r\n    this.setState({ number: event.target.value })\r\n  }\r\n\r\n  _handleChangeWebPage(event) {\r\n    this.setState({ webPage: event.target.value })\r\n  }\r\n\r\n\r\n  _onClickSearchAirport = async () => {\r\n    if (this.state.code === '') {\r\n      window.confirm(\"Debe ingresar un cÃ³digo de aeropuerto para modificar.\")\r\n    } else {\r\n      await fetch(`http://localhost:3000/admin/findAirportsId/${this.state.code}`,\r\n        {\r\n          method: \"GET\"\r\n        })\r\n        .then(response => response.json())\r\n        .then(responseJson => {\r\n          if (responseJson !== '') {\r\n            this.setState({\r\n              airport: responseJson,\r\n              code: ''\r\n            });\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error(error);\r\n        });\r\n\r\n      await fetch('https://raw.githubusercontent.com/dr5hn/countries-states-cities-database/master/countries.json',\r\n        {\r\n          method: \"GET\"\r\n        })\r\n        .then(response => response.json())\r\n        .then(responseJson => {\r\n          if (responseJson !== '') {\r\n            responseJson.map((item) => {\r\n              if (item.name === this.state.airport.country) {\r\n                return this.setState({\r\n                  countryCode: item.phone_code\r\n                });\r\n              } else {\r\n                return ''\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  _submitData = async () => {\r\n    if (this.state.name === '') {\r\n      window.confirm(\"Debe ingresar un nombre aeropuerto.\")\r\n    }\r\n    else if (this.state.number === '' || this.state.webPage === '') {\r\n      window.confirm(\"Debe ingresar un numero o sito web validos.\")\r\n    }\r\n    else {\r\n      let data = {\r\n        name: this.state.name,\r\n        number: `(+${this.state.countryCode}) ${this.state.number}`,\r\n        webPage: this.state.webPage\r\n      }\r\n      await fetch(`http://localhost:3000/admin/updateAirport/${this.state.airport._id}`,\r\n        {\r\n          method: \"PUT\",\r\n          body: JSON.stringify(data),\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        })\r\n        .then(response => response.json())\r\n        .then(responseJson => {\r\n          if (responseJson.name === this.state.name) {\r\n            this.setState({ name: '', airport: [], number: '', webPage: '', countryCode: '' })\r\n            window.confirm(\"Se actualizado correctamente el aeropuerto.\")\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <div style={{ margin: '2%' }}>\r\n          <h3 align='center'>Actualizar Aeropuerto</h3>\r\n        </div>\r\n        <Row className='justify-content-md-center'>\r\n          <Col xs lg='2'></Col>\r\n          <Col md='auto'>\r\n            <Form>\r\n              <Form.Row style={{ marginTop: '2%' }}>\r\n                <Form.Group as={Col} controlId='formGridCodeSearchAirport'>\r\n                  <Form.Label>CÃ³digo</Form.Label>\r\n                  <Form.Control type='string' placeholder='CÃ³digo de aeropuerto modificar' value={this.state.code} onChange={this._handleChangeCode.bind(this)} />\r\n                </Form.Group>\r\n                <Form.Group as={Col} controlId='formGridButton'>\r\n                  <Button onClick={this._onClickSearchAirport}>Buscar</Button>\r\n                </Form.Group>\r\n              </Form.Row>\r\n            </Form>\r\n            <Form>\r\n              <Form.Row style={{ marginTop: '2%' }}>\r\n                <Form.Group as={Col} controlId='formGridName'>\r\n                  <Form.Label>Nombre</Form.Label>\r\n                  <Form.Control type='string' placeholder={this.state.airport.name} value={this.state.name} onChange={this._handleChangeName.bind(this)} />\r\n                </Form.Group>\r\n\r\n                <Form.Group as={Col} controlId='formGridLastname'>\r\n                  <Form.Label>CÃ³digo</Form.Label>\r\n                  <Form.Control type='string' placeholder={this.state.airport._id} disabled />\r\n                </Form.Group>\r\n              </Form.Row>\r\n\r\n              <Form.Row style={{ marginTop: '2%' }}>\r\n                <Form.Group as={Col} controlId=\"ControlSelectCountry\">\r\n                  <Form.Label>PaÃ­s</Form.Label>\r\n                  <Form.Control type='string' placeholder={this.state.airport.country} disabled />\r\n                </Form.Group>\r\n\r\n                <Form.Group as={Col} controlId=\"ControlSelectCity\">\r\n                  <Form.Label>Ciudad</Form.Label>\r\n                  <Form.Control type='string' placeholder={this.state.airport.city} disabled />\r\n                </Form.Group>\r\n              </Form.Row>\r\n\r\n              <Form.Row style={{ marginTop: '2%' }}>\r\n                <Form.Group as={Col} controlId='formGridNumber'>\r\n                  <Form.Label>NÃºmero de TelefÃ³no (+{this.state.countryCode})</Form.Label>\r\n                  <Form.Control type='number' placeholder={this.state.airport.number} value={this.state.number} onChange={this._handleChangeNumber.bind(this)} />\r\n                </Form.Group>\r\n              </Form.Row>\r\n\r\n              <Form.Row style={{ marginTop: '2%' }}>\r\n                <Form.Group as={Col} controlId='formGrid'>\r\n                  <Form.Label>URL de sitio web</Form.Label>\r\n                  <Form.Control type='string' placeholder={this.state.airport.webPage} value={this.state.webPage} onChange={this._handleChangeWebPage.bind(this)} />\r\n                </Form.Group>\r\n              </Form.Row>\r\n\r\n            </Form>\r\n          </Col>\r\n          <Col xs lg='2'></Col>\r\n        </Row>\r\n\r\n        <Row className='justify-content-md-center' style={{ margin: '3%' }}>\r\n          <Button\r\n            variant='primary'\r\n            size='lg'\r\n            onClick={this._submitData}>\r\n            Confirmar\r\n              </Button>\r\n        </Row>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Airport;\r\n"]},"metadata":{},"sourceType":"module"}