{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gusfc\\\\Documents\\\\GitHub\\\\TI4601-vuelaTEC\\\\app\\\\vuelatec\\\\src\\\\components\\\\Employee\\\\Flight\\\\Boarding\\\\index.js\";\nimport React from 'react';\nimport { Button, Col, Container, Form, Table } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport FlightTakeoff from '@material-ui/icons/FlightTakeoff';\nimport IconButton from '@material-ui/core/IconButton';\n\nclass Boarding extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this._onClickApplyBoarding = async (ticket, passenger) => {\n      let verify = window.confirm(\"Desea aplicar abordaje al ticket con c\\xF3digo: \".concat(ticket));\n\n      if (verify) {\n        let data = {\n          _id: ticket,\n          passenger_id: passenger\n        };\n        await fetch('http://localhost:3000/employee/boardingPass/', {\n          method: \"PUT\",\n          body: JSON.stringify(data),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }).then(response => response.json()).then(responseJson => {\n          if (responseJson.ok === 1) {\n            window.confirm('Se aplico el abordaje correctamente para el ticket seleccionado');\n            this.setState({\n              ticketsToBeBoarding: []\n            });\n          }\n        }).catch(error => {\n          console.error(error);\n        });\n      }\n    };\n\n    this._onClickSearchFlight = async () => {\n      if (this.state.idFlight === '' || this.state.idPassenger === '') {\n        window.confirm(\"Debe ingresar parametros de busqueda.\");\n      } else {\n        this.setState({\n          ticketsToBeBoarding: []\n        });\n        let flightInfo = await fetch(\"http://localhost:3000/employee/findFlightsId/\".concat(this.state.idFlight), {\n          method: \"GET\"\n        }).then(response => response.json()).then(responseJson => {\n          return responseJson;\n        }).catch(error => {\n          console.error(error);\n        });\n        await fetch(\"http://localhost:3000/employee/passengerInfo/\".concat(this.state.idPassenger), {\n          method: \"GET\"\n        }).then(response => response.json()).then(responseJson => {\n          let passengerInfo = [];\n          passengerInfo = responseJson[0].ticketsInfo;\n          passengerInfo.forEach(element => {\n            if (element.flight_id === flightInfo._id) {\n              this.setState({\n                ticketsToBeBoarding: [...this.state.ticketsToBeBoarding, element],\n                idFlight: '',\n                idPassenger: ''\n              });\n            }\n          });\n        }).catch(error => {\n          console.error(error);\n        });\n      }\n    };\n\n    this.state = {\n      flight: [],\n      idFlight: '',\n      idPassenger: '',\n      passenger: [],\n      ticketsToBeBoarding: []\n    };\n  }\n\n  _handleChangePassenger(event) {\n    this.setState({\n      idPassenger: event.target.value\n    });\n  }\n\n  _handleChangeFlight(event) {\n    this.setState({\n      idFlight: event.target.value\n    });\n  }\n\n  render() {\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        margin: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Abordaje de Pasajero a Vuelo\")), React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      style: {\n        marginTop: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridPassenher\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"string\",\n      placeholder: \"Identificador de pasajero\",\n      value: this.state.idPassenger,\n      onChange: this._handleChangePassenger.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridFlight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      type: \"string\",\n      placeholder: \"C\\xF3digo de vuelo\",\n      value: this.state.idFlight,\n      onChange: this._handleChangeFlight.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this._onClickSearchFlight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Buscar\")))), React.createElement(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      responsive: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"C\\xF3digo Boleto\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"C\\xF3digo Vuelo\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Identificaci\\xF3n Pasajero\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Cantidad Boletos\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Cantidad Maletas\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Fecha Compra\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Asientos\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Estado de abordaje\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Aplicar Abordaje\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, this.state.ticketsToBeBoarding.map((item, index) => React.createElement(\"tr\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, item._id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, item.flight_id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, item.passenger_id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, item.amount), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, item.baggage), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, item.dateBought), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, JSON.stringify(item.seats)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, item.boarded ? 'Abordado' : 'Sin abordar'), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      \"aria-label\": \"apply\",\n      style: {\n        color: 'red'\n      },\n      onClick: this._onClickApplyBoarding.bind(this, item._id, item.passenger_id),\n      disabled: item.boarded,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(FlightTakeoff, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }))))))));\n  }\n\n}\n\nexport default Boarding;","map":{"version":3,"sources":["C:/Users/gusfc/Documents/GitHub/TI4601-vuelaTEC/app/vuelatec/src/components/Employee/Flight/Boarding/index.js"],"names":["React","Button","Col","Container","Form","Table","FlightTakeoff","IconButton","Boarding","Component","constructor","props","_onClickApplyBoarding","ticket","passenger","verify","window","confirm","data","_id","passenger_id","fetch","method","body","JSON","stringify","headers","then","response","json","responseJson","ok","setState","ticketsToBeBoarding","catch","error","console","_onClickSearchFlight","state","idFlight","idPassenger","flightInfo","passengerInfo","ticketsInfo","forEach","element","flight_id","flight","_handleChangePassenger","event","target","value","_handleChangeFlight","render","margin","marginTop","bind","map","item","index","amount","baggage","dateBought","seats","boarded","color"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Button, Col, Container, Form, Table } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport FlightTakeoff from '@material-ui/icons/FlightTakeoff';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nclass Boarding extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      flight: [],\r\n      idFlight: '',\r\n      idPassenger: '',\r\n      passenger: [],\r\n      ticketsToBeBoarding: []\r\n    };\r\n  }\r\n\r\n  _handleChangePassenger(event) {\r\n    this.setState({ idPassenger: event.target.value })\r\n  }\r\n\r\n  _handleChangeFlight(event) {\r\n    this.setState({ idFlight: event.target.value })\r\n  }\r\n\r\n  _onClickApplyBoarding = async (ticket, passenger) => {\r\n    let verify = window.confirm(`Desea aplicar abordaje al ticket con código: ${ticket}`);\r\n    if (verify) {\r\n      let data = {\r\n        _id: ticket,\r\n        passenger_id: passenger\r\n      }\r\n      await fetch('http://localhost:3000/employee/boardingPass/',\r\n        {\r\n          method: \"PUT\",\r\n          body: JSON.stringify(data),\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          }\r\n        })\r\n        .then(response => response.json())\r\n        .then(responseJson => {\r\n          if (responseJson.ok === 1) {\r\n            window.confirm('Se aplico el abordaje correctamente para el ticket seleccionado');\r\n            this.setState({ ticketsToBeBoarding: [] })\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  _onClickSearchFlight = async () => {\r\n    if (this.state.idFlight === '' || this.state.idPassenger === '') {\r\n      window.confirm(\"Debe ingresar parametros de busqueda.\")\r\n    } else {\r\n      this.setState({\r\n        ticketsToBeBoarding: []\r\n      })\r\n      let flightInfo = await fetch(`http://localhost:3000/employee/findFlightsId/${this.state.idFlight}`,\r\n        {\r\n          method: \"GET\"\r\n        })\r\n        .then(response => response.json())\r\n        .then(responseJson => {\r\n          return responseJson;\r\n        })\r\n        .catch(error => {\r\n          console.error(error);\r\n        });\r\n\r\n      await fetch(`http://localhost:3000/employee/passengerInfo/${this.state.idPassenger}`,\r\n        {\r\n          method: \"GET\"\r\n        })\r\n        .then(response => response.json())\r\n        .then(responseJson => {\r\n          let passengerInfo = [];\r\n          passengerInfo = responseJson[0].ticketsInfo;\r\n          passengerInfo.forEach(element => {\r\n            if (element.flight_id === flightInfo._id) {\r\n              this.setState({\r\n                ticketsToBeBoarding: [...this.state.ticketsToBeBoarding, element],\r\n                idFlight: '', idPassenger: ''\r\n              })\r\n            }\r\n          });\r\n        })\r\n        .catch(error => {\r\n          console.error(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <div style={{ margin: '2%' }}>\r\n          <h3 align='center'>Abordaje de Pasajero a Vuelo</h3>\r\n        </div>\r\n        <Form>\r\n          <Form.Row style={{ marginTop: '2%' }}>\r\n            <Form.Group as={Col} controlId='formGridPassenher'>\r\n              <Form.Control type='string' placeholder='Identificador de pasajero' value={this.state.idPassenger} onChange={this._handleChangePassenger.bind(this)} />\r\n            </Form.Group>\r\n            <Form.Group as={Col} controlId='formGridFlight'>\r\n              <Form.Control type='string' placeholder='Código de vuelo' value={this.state.idFlight} onChange={this._handleChangeFlight.bind(this)} />\r\n            </Form.Group>\r\n            <Form.Group as={Col} controlId='formGridButton'>\r\n              <Button onClick={this._onClickSearchFlight}>Buscar</Button>\r\n            </Form.Group>\r\n          </Form.Row>\r\n        </Form>\r\n        <Table striped bordered hover responsive >\r\n          <thead>\r\n            <tr>\r\n              <th>Código Boleto</th>\r\n              <th>Código Vuelo</th>\r\n              <th>Identificación Pasajero</th>\r\n              <th>Cantidad Boletos</th>\r\n              <th>Cantidad Maletas</th>\r\n              <th>Fecha Compra</th>\r\n              <th>Asientos</th>\r\n              <th>Estado de abordaje</th>\r\n              <th>Aplicar Abordaje</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {this.state.ticketsToBeBoarding.map((item, index) => (\r\n              <tr key={index}>\r\n                <td>{item._id}</td>\r\n                <td>{item.flight_id}</td>\r\n                <td>{item.passenger_id}</td>\r\n                <td>{item.amount}</td>\r\n                <td>{item.baggage}</td>\r\n                <td>{item.dateBought}</td>\r\n                <td>{JSON.stringify(item.seats)}</td>\r\n                <td>{item.boarded ? ('Abordado') : 'Sin abordar'}</td>\r\n                <td>\r\n                  <IconButton aria-label=\"apply\" style={{ color: 'red' }} onClick={this._onClickApplyBoarding.bind(this, item._id, item.passenger_id)} disabled={item.boarded}>\r\n                    <FlightTakeoff />\r\n                  </IconButton>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Boarding;\r\n"]},"metadata":{},"sourceType":"module"}